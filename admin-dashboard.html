<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Lost & Found Kenya</title>
    <meta name="description" content="Admin dashboard for managing lost and found items, payments, and users.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .admin-sidebar {
            background: linear-gradient(135deg, #1f2937, #374151);
            min-height: calc(100vh - 4rem);
        }
        
        .admin-nav-item {
            transition: all 0.3s ease;
        }
        
        .admin-nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(4px);
        }
        
        .admin-nav-item.active {
            background: rgba(0, 166, 81, 0.2);
            border-left: 4px solid #00A651;
        }
        
        .stat-card {
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .data-table {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-approved {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-rejected {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00A651, #38A169);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 166, 81, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6B7280, #4B5563);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(107, 114, 128, 0.3);
        }
        
        .chart-container {
            height: 300px;
        }
        
        .modal-backdrop {
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">LF</span>
                        </div>
                        <span class="text-xl font-bold text-gray-800">Lost<span class="text-green-600">&</span>Found</span>
                    </a>
                    <span class="text-sm text-gray-500 ml-4" id="adminBadge">Admin Dashboard</span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 text-sm text-gray-600">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span id="adminUser">Admin User</span>
                    </div>
                    <button onclick="logout()" class="text-gray-600 hover:text-red-600 transition-colors" id="logoutBtn">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <div class="admin-sidebar w-64 text-white">
            <div class="p-6">
                <nav class="space-y-2">
                    <a href="#" class="admin-nav-item active flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('dashboard')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v0a2 2 0 01-2 2H10a2 2 0 01-2-2v0z"></path>
                        </svg>
                        <span id="dashboardMenu">Dashboard</span>
                    </a>
                    
                    <a href="#" class="admin-nav-item flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('items')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        <span id="itemsMenu">Items</span>
                        <span class="ml-auto bg-red-500 text-xs px-2 py-1 rounded-full" id="pendingCount">3</span>
                    </a>
                    
                    <a href="#" class="admin-nav-item flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('payments')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        <span id="paymentsMenu">Payments</span>
                    </a>
                    
                    <a href="#" class="admin-nav-item flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('users')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                        </svg>
                        <span id="usersMenu">Users</span>
                    </a>
                    
                    <a href="#" class="admin-nav-item flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('analytics')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        <span id="analyticsMenu">Analytics</span>
                    </a>
                    
                    <a href="#" class="admin-nav-item flex items-center space-x-3 p-3 rounded-lg" onclick="showSection('settings')">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span id="settingsMenu">Settings</span>
                    </a>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6">
            <!-- Dashboard Section -->
            <div id="dashboardSection" class="admin-section">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2" id="dashboardTitle">Dashboard Overview</h1>
                    <p class="text-gray-600" id="dashboardSubtitle">Monitor your Lost & Found platform performance</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600" id="totalItemsLabel">Total Items</p>
                                <p class="text-2xl font-bold text-gray-800" id="totalItemsCount">2,847</p>
                                <p class="text-sm text-green-600" id="itemsChange">+12% from last month</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600" id="activeUsersLabel">Active Users</p>
                                <p class="text-2xl font-bold text-gray-800" id="activeUsersCount">1,923</p>
                                <p class="text-sm text-green-600" id="usersChange">+8% from last month</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600" id="totalPaymentsLabel">Total Payments</p>
                                <p class="text-2xl font-bold text-gray-800" id="totalPaymentsCount">Ksh 15,680</p>
                                <p class="text-sm text-green-600" id="paymentsChange">+15% from last month</p>
                            </div>
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-lg p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600" id="successRateLabel">Success Rate</p>
                                <p class="text-2xl font-bold text-gray-800" id="successRateCount">98.5%</p>
                                <p class="text-sm text-green-600" id="successChange">+2% from last month</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4" id="itemsChartTitle">Items Posted Over Time</h3>
                        <div id="itemsChart" class="chart-container"></div>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4" id="paymentsChartTitle">Payment Transactions</h3>
                        <div id="paymentsChart" class="chart-container"></div>
                    </div>
                </div>
            </div>

            <!-- Items Management Section -->
            <div id="itemsSection" class="admin-section hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2" id="itemsTitle">Items Management</h1>
                    <p class="text-gray-600" id="itemsSubtitle">Review and manage all posted items</p>
                </div>

                <!-- Filters -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1">
                            <input type="text" placeholder="Search items..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none">
                        </div>
                        <div class="flex gap-2">
                            <select class="px-4 py-2 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none">
                                <option value="all">All Categories</option>
                                <option value="id-card">ID Cards</option>
                                <option value="phone">Phones</option>
                                <option value="wallet">Wallets</option>
                                <option value="document">Documents</option>
                            </select>
                            <select class="px-4 py-2 border border-gray-300 rounded-lg focus:border-green-500 focus:outline-none">
                                <option value="all">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="rejected">Rejected</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Items Table -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="data-table">
                        <table class="w-full">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Item</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Posted</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="itemsTableBody" class="bg-white divide-y divide-gray-200">
                                <!-- Items will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Other sections will be added here -->
            <div id="paymentsSection" class="admin-section hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Payments Management</h1>
                    <p class="text-gray-600">Monitor and manage all payment transactions</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                    <p class="text-gray-500">Payments management coming soon...</p>
                </div>
            </div>

            <div id="usersSection" class="admin-section hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Users Management</h1>
                    <p class="text-gray-600">Manage user accounts and permissions</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                    <p class="text-gray-500">Users management coming soon...</p>
                </div>
            </div>

            <div id="analyticsSection" class="admin-section hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Analytics</h1>
                    <p class="text-gray-600">Detailed analytics and insights</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                    <p class="text-gray-500">Analytics section coming soon...</p>
                </div>
            </div>

            <div id="settingsSection" class="admin-section hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Settings</h1>
                    <p class="text-gray-600">Platform configuration and settings</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                    <p class="text-gray-500">Settings section coming soon...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">LF</span>
                    </div>
                    <span class="text-xl font-bold">Lost<span class="text-green-400">&</span>Found Kenya</span>
                </div>
                <p class="text-gray-400 mb-4">
                    Admin Dashboard - Lost & Found Kenya Platform
                </p>
                <p class="text-gray-500 text-sm">
                    © 2025 Lost & Found Kenya. Built with ❤️ for the Kenyan community.
                </p>
            </div>
        </div>
    </footer>

    <!-- Load JavaScript -->
    <script src="main.js"></script>
    <script>
        // Admin Dashboard JavaScript
        let currentSection = 'dashboard';
        
        // Sample data for admin dashboard
        const adminData = {
            items: [
                {
                    id: 1,
                    title: 'National ID - John Mwangi',
                    category: 'id-card',
                    status: 'pending',
                    date: '2025-01-23',
                    poster: 'Peter Kimani',
                    image: 'https://images.unsplash.com/photo-1552168324-d612d77725e3?w=50&h=50&fit=crop'
                },
                {
                    id: 2,
                    title: 'Samsung Galaxy S21',
                    category: 'phone',
                    status: 'approved',
                    date: '2025-01-22',
                    poster: 'Amina Said',
                    image: 'https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=50&h=50&fit=crop'
                },
                {
                    id: 3,
                    title: 'Brown Leather Wallet',
                    category: 'wallet',
                    status: 'pending',
                    date: '2025-01-21',
                    poster: 'David Otieno',
                    image: 'https://images.unsplash.com/photo-1556089774-b83b4d5fddde?w=50&h=50&fit=crop'
                },
                {
                    id: 4,
                    title: 'University Certificate',
                    category: 'document',
                    status: 'rejected',
                    date: '2025-01-20',
                    poster: 'Grace Wanjiku',
                    image: 'https://images.unsplash.com/photo-1556761175-b413da4baf72?w=50&h=50&fit=crop'
                },
                {
                    id: 5,
                    title: 'Canon Digital Camera',
                    category: 'electronics',
                    status: 'approved',
                    date: '2025-01-19',
                    poster: 'James Kiprotich',
                    image: 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=50&h=50&fit=crop'
                }
            ]
        };

        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminDashboard();
        });

        function initializeAdminDashboard() {
            // Initialize charts
            initializeCharts();
            
            // Load items table
            loadItemsTable();
            
            // Setup event listeners
            setupAdminEventListeners();
            
            // Animate stats counters
            animateStatsCounters();
        }

        function initializeCharts() {
            // Items Chart
            const itemsChart = echarts.init(document.getElementById('itemsChart'));
            const itemsOption = {
                tooltip: {
                    trigger: 'axis'
                },
                xAxis: {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
                },
                yAxis: {
                    type: 'value'
                },
                series: [{
                    data: [120, 200, 150, 80, 70, 110],
                    type: 'line',
                    smooth: true,
                    itemStyle: {
                        color: '#00A651'
                    },
                    areaStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 0,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(0, 166, 81, 0.3)'
                            }, {
                                offset: 1, color: 'rgba(0, 166, 81, 0.1)'
                            }]
                        }
                    }
                }]
            };
            itemsChart.setOption(itemsOption);

            // Payments Chart
            const paymentsChart = echarts.init(document.getElementById('paymentsChart'));
            const paymentsOption = {
                tooltip: {
                    trigger: 'item'
                },
                series: [{
                    type: 'pie',
                    radius: '70%',
                    data: [
                        { value: 1048, name: 'Successful Payments' },
                        { value: 735, name: 'Pending Payments' },
                        { value: 580, name: 'Failed Payments' }
                    ],
                    itemStyle: {
                        color: function(params) {
                            const colors = ['#00A651', '#FF6B35', '#6B7280'];
                            return colors[params.dataIndex];
                        }
                    }
                }]
            };
            paymentsChart.setOption(paymentsOption);

            // Make charts responsive
            window.addEventListener('resize', function() {
                itemsChart.resize();
                paymentsChart.resize();
            });
        }

        function loadItemsTable() {
            const tbody = document.getElementById('itemsTableBody');
            
            tbody.innerHTML = adminData.items.map(item => `
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="w-10 h-10 flex-shrink-0">
                                <img class="w-10 h-10 rounded-full object-cover" src="${item.image}" alt="${item.title}">
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">${item.title}</div>
                                <div class="text-sm text-gray-500">by ${item.poster}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="text-sm text-gray-900">${getCategoryName(item.category)}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-badge status-${item.status}">
                            ${item.status.charAt(0).toUpperCase() + item.status.slice(1)}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        ${formatDate(item.date)}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        ${item.status === 'pending' ? `
                            <button onclick="approveItem(${item.id})" class="text-green-600 hover:text-green-900 mr-3">Approve</button>
                            <button onclick="rejectItem(${item.id})" class="text-red-600 hover:text-red-900">Reject</button>
                        ` : `
                            <button onclick="viewItem(${item.id})" class="text-blue-600 hover:text-blue-900">View</button>
                        `}
                    </td>
                </tr>
            `).join('');
        }

        function getCategoryName(category) {
            const categories = {
                'id-card': 'ID Card',
                'phone': 'Phone',
                'wallet': 'Wallet',
                'document': 'Document',
                'electronics': 'Electronics'
            };
            return categories[category] || category;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-KE', { 
                month: 'short', 
                day: 'numeric',
                year: 'numeric'
            });
        }

        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.remove('hidden');
            
            // Update navigation
            document.querySelectorAll('.admin-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.admin-nav-item').classList.add('active');
            
            currentSection = sectionName;
        }

        function approveItem(itemId) {
            showNotification(`Item ${itemId} approved successfully!`, 'success');
            
            // Update item status
            const item = adminData.items.find(i => i.id === itemId);
            if (item) {
                item.status = 'approved';
                loadItemsTable();
            }
        }

        function rejectItem(itemId) {
            const reason = prompt('Enter reason for rejection:');
            if (reason) {
                showNotification(`Item ${itemId} rejected: ${reason}`, 'info');
                
                // Update item status
                const item = adminData.items.find(i => i.id === itemId);
                if (item) {
                    item.status = 'rejected';
                    loadItemsTable();
                }
            }
        }

        function viewItem(itemId) {
            window.open(`item-details.html?id=${itemId}`, '_blank');
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                showNotification('Logged out successfully', 'info');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1000);
            }
        }

        function animateStatsCounters() {
            const counters = [
                { element: document.getElementById('totalItemsCount'), target: 2847 },
                { element: document.getElementById('activeUsersCount'), target: 1923 },
                { element: document.getElementById('totalPaymentsCount'), target: 15680, prefix: 'Ksh ', format: true }
            ];
            
            counters.forEach(counter => {
                if (!counter.element) return;
                
                anime({
                    targets: { count: 0 },
                    count: counter.target,
                    duration: 2000,
                    easing: 'easeOutExpo',
                    update: function(anim) {
                        const value = Math.floor(anim.animatables[0].target.count);
                        let displayValue = value;
                        
                        if (counter.format) {
                            displayValue = value.toLocaleString();
                        }
                        
                        counter.element.textContent = (counter.prefix || '') + displayValue + (counter.suffix || '');
                    }
                });
            });
        }

        function setupAdminEventListeners() {
            // Add any additional event listeners here
        }

        // Language translations for admin dashboard
        const adminTranslations = {
            en: {
                adminBadge: 'Admin Dashboard',
                adminUser: 'Admin User',
                logoutBtn: 'Logout',
                dashboardMenu: 'Dashboard',
                itemsMenu: 'Items',
                pendingCount: '3',
                paymentsMenu: 'Payments',
                usersMenu: 'Users',
                analyticsMenu: 'Analytics',
                settingsMenu: 'Settings',
                dashboardTitle: 'Dashboard Overview',
                dashboardSubtitle: 'Monitor your Lost & Found platform performance',
                totalItemsLabel: 'Total Items',
                itemsChange: '+12% from last month',
                activeUsersLabel: 'Active Users',
                usersChange: '+8% from last month',
                totalPaymentsLabel: 'Total Payments',
                paymentsChange: '+15% from last month',
                successRateLabel: 'Success Rate',
                successChange: '+2% from last month',
                itemsChartTitle: 'Items Posted Over Time',
                paymentsChartTitle: 'Payment Transactions',
                itemsTitle: 'Items Management',
                itemsSubtitle: 'Review and manage all posted items'
            },
            sw: {
                adminBadge: 'Dashibodi ya Msimamizi',
                adminUser: 'Mtumiaji wa Msimamizi',
                logoutBtn: 'Toka',
                dashboardMenu: 'Dashibodi',
                itemsMenu: 'Vitu',
                pendingCount: '3',
                paymentsMenu: 'Malipo',
                usersMenu: 'Watumiaji',
                analyticsMenu: 'Takwimu',
                settingsMenu: 'Mipangilio',
                dashboardTitle: 'Muhtasari wa Dashibodi',
                dashboardSubtitle: 'Fuatilia utendaji wa jukwaa lako la Vitu Vilivyopotea',
                totalItemsLabel: 'Jumla ya Vitu',
                itemsChange: '+12% kutoka mwezi uliopita',
                activeUsersLabel: 'Watumiaji Hai',
                usersChange: '+8% kutoka mwezi uliopita',
                totalPaymentsLabel: 'Jumla ya Malipo',
                paymentsChange: '+15% kutoka mwezi uliopita',
                successRateLabel: 'Kiwango cha Mafanikio',
                successChange: '+2% kutoka mwezi uliopita',
                itemsChartTitle: 'Vitu Vilivyotumwa kwa Muda',
                paymentsChartTitle: 'Shughuli za Malipo',
                itemsTitle: 'Usimamizi wa Vitu',
                itemsSubtitle: 'Kagua na simamia vitu vyote vilivyotumwa'
            }
        };

        // Update admin language
        function updateAdminLanguage(lang) {
            const t = adminTranslations[lang];
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });
        }

        // Initialize language
        updateAdminLanguage(currentLang);
    </script>
</body>
</html>